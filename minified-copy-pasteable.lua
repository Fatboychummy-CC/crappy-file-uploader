local a,b,c,d,e={},0,shell.dir(),print,os.pullEvent;local f=assert(...,"Expected filename.")f=fs.combine(c,f)d(("Writing to: %s"):format(f))d"Press 'q' to stop and write the file."d"Hold ctrl+t to cancel."parallel.waitForAny(function()while true do a[#a+1]=select(2,e"paste")end end,function()repeat local g,h=e"key"until h==keys.q end)local i,j=fs.open(f,'w')if not i then error(("Failed to write file: %s"):format(j))end;for g,k in ipairs(a)do i.writeLine(k)end;i.close()d"Done."sleep()